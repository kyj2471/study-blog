---

데이터 타입 관련 글을 보기 전 아래의 상황을 공유하겠습니다.

```jsx
let a = 10
let b = a
let address = { location:"서울특별시", detail:"1XX동 XXX호"}
let newAddress = address

b = 20
newAddress.location = "대구광역시"

console.log(a === b) // false
console.log(address === newAddress) // true
```

`console.log(a === b)` 의 결과는 누구나 쉽게 납득을 할 수있으나 두번째의 경우는 의아할 수 있다. 실제 현업에서 주소록관련 컴퍼넌트를 제작하면서 겪었던 경험이 있다. 기존 address를 newAddress로 수정하면서 address와 newAddress가 다른 경우만 해당 데이터 변경을 위한 api요청을 시도 하려했으나 비교시 일치한다는 결과가 출력되어 api요청을 하지 않았던 적이 있었다.

분명 코드상 newAddress의 location의 값만 변경하였는데 address의 location마저 영향을 미치게되었다. 이유가 뭔지 또 이런경우 어떻게 해결을 해야할지 보겠습니다.

## 데이터 할당이 이루어지는 과정

### 기본형 타입 (불변성?)

기본형 타입은 불변성을 띈다. 하지만 아래의 코드만 보아도 처음 “test”의 값이 “sample”로 변하는데 이게 왜 불변성을 띈다고 하는걸까?

```jsx
var a;
a = "test"

a = "test2"
console.log(a) // "test2"
```

위 코드를 설명하라 하면 “변경 가능한 데이터가 담길 수 있는 공간을 만듭니다. 이 데이터의 식별자는 a라고 합니다. 그 a의 값을 test라는 기본형 타입인 string값을 할당하겠습니다 그후 같은 기본형 타입인 test2를 할당하겠습니다” 라고 할 수있다.

|변수 영역|주소|…|1003|1004|
|---|---|---|---|---|
|변수 영역|데이터|…|이름: a||
|값 : @5004|||||
|데이터 영역|주소|…|5004|5005|
|데이터 영역|데이터|…|“test”|“test2”|

변수영역에 식별자 a와 값이 있다. 값에는 해당 데이터가 있는 주소값을 저장한다. 여기서 test2라고 다시 한변 값을 할당할 때 @5004의 데이터가 변경되는 것이 아닌 @5005에 새롭게 값이 추가됩니다. 당연히 변수영역의 값 또한 @5004에서 @5005로 변경될 것입니다.

이렇듯 불변성의 여부를 구분할 때 변경 가능성의 대상은 **데이터 영역의 메모리** 입니다.
