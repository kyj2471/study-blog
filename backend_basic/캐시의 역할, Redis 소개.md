## - 캐시의 역할

### 캐시(Cache)란?

- **캐시**: 데이터에 대한 빠른 접근을 위해 자주 사용하는 데이터를 임시로 저장하는 고속 데이터 저장소.
- **목적**: 데이터 조회 속도를 높이고, 데이터베이스 부하를 줄이기 위함.

### 캐시의 필요성

- **속도 향상**: 자주 조회되는 데이터를 캐시에 저장하여 응답 시간을 단축합니다.
- **부하 분산**: 데이터베이스에 대한 직접적인 요청 수를 줄여 부하를 분산시킵니다.
- **비용 절감**: 데이터베이스의 확장 비용을 줄일 수 있습니다.

### 캐시 사용 예

- **웹 애플리케이션**: 자주 조회되는 사용자 프로필 정보, 제품 목록 등을 캐시에 저장.
- **데이터베이스 조회 결과**: 빈번하게 조회되는 SQL 쿼리 결과를 캐시에 저장.
- **API 응답**: 외부 API 호출 결과를 캐시에 저장하여 반복 호출을 방지.

### 캐시의 주요 전략

- **직접 매핑**: 특정 키에 대해 직접 값을 저장.
- **LRU(Least Recently Used)**: 가장 오랫동안 사용되지 않은 데이터를 제거.
- **TTL(Time To Live)**: 데이터가 일정 시간 후에 만료되도록 설정.

## - Redis 소개

### Redis란?

- **Redis**: Remote Dictionary Server의 약자로, 오픈 소스 인메모리 데이터 구조 저장소.
- **특징**: 고속의 데이터 조회와 다양한 데이터 구조(문자열, 해시, 리스트, 집합, 정렬된 집합 등)를 지원.

### Redis의 주요 기능

- **데이터 구조 지원**: 문자열, 해시, 리스트, 집합, 정렬된 집합 등 다양한 데이터 구조를 지원.
- **인메모리 저장**: 데이터를 메모리에 저장하여 매우 빠른 성능 제공.
- **영속성 옵션**: 데이터를 디스크에 저장하여 서버 재시작 시에도 데이터를 복구 가능.
- **복제**: 데이터를 여러 서버에 복제하여 고가용성 보장.
- **Pub/Sub**: 메시지 큐 역할을 하는 Pub/Sub 시스템 지원.

### Redis 설치 및 기본 사용법

1. **Redis 설치**
    
    ```
    # Ubuntu 예제
    sudo apt update
    sudo apt install redis-server
    
    ```
    
2. **Redis 서버 시작**
    
    ```
    sudo service redis-server start
    
    ```
    
3. **Redis 클라이언트 사용**
    
    ```
    redis-cli
    ```
    
4. **기본 명령어**
    
    ```
    # 문자열 값 설정
    SET key "value"
    
    # 문자열 값 조회
    GET key
    
    # 해시 값 설정
    HSET myhash field "value"
    
    # 해시 값 조회
    HGET myhash field
    
    # 리스트 값 추가
    LPUSH mylist "value"
    
    # 리스트 값 조회
    LRANGE mylist 0 -1
    
    ```
    

## - Redis를 활용한 캐시 예제

### 기본 예제

```tsx
const redis = require('redis');
const client = redis.createClient();

// 데이터 저장
client.set('user:1000', JSON.stringify({ id: 1000, name: 'John Doe' }), 'EX', 3600); // 1시간 동안 캐시

// 데이터 조회
client.get('user:1000', (err, reply) => {
    if (reply) {
        console.log(JSON.parse(reply)); // 캐시된 데이터 사용
    } else {
        // 캐시가 없는 경우, 데이터베이스 조회 후 캐시에 저장
    }
});

```

## - 요약

- **캐시**는 데이터 조회 속도를 높이고 데이터베이스 부하를 줄이는 데 중요한 역할을 합니다.
- **Redis**는 인메모리 데이터 구조 저장소로, 고속의 데이터 조회와 다양한 데이터 구조를 지원합니다.
- Redis를 사용하여 자주 사용하는 데이터를 캐시에 저장함으로써 애플리케이션 성능을 향상시킬 수 있습니다.