
## 2. 무중단 배포란?

### 개념

- **무중단 배포**: 시스템의 가용성을 유지하면서 소프트웨어를 업데이트하는 배포 방법입니다. 사용자에게 서비스 중단이나 불편을 최소화하면서 새로운 버전을 배포할 수 있습니다.
- **목표**: 시스템 업데이트 중에도 서비스를 지속적으로 제공하고, 업데이트로 인한 문제를 최소화합니다.

### 필요성

- **서비스 가용성**: 사용자에게 지속적인 서비스를 제공하기 위해 필요합니다.
- **업데이트 리스크 관리**: 소프트웨어의 새로운 버전이 문제를 일으킬 경우, 전체 시스템에 영향을 주지 않도록 하기 위해 필요합니다.

## 3. Rolling 배포

### 개념

- **Rolling 배포**: 기존 버전의 인스턴스와 새로운 버전의 인스턴스를 순차적으로 교체하면서 배포하는 방법입니다.
- **방법**:
    1. 기존 인스턴스 일부를 새로운 버전으로 교체합니다.
    2. 새로운 버전의 인스턴스가 정상적으로 작동하면, 나머지 인스턴스도 교체합니다.

### 장점

- **무중단 배포**: 전체 서비스가 중단되지 않으며, 일부 인스턴스는 여전히 기존 버전을 실행합니다.
- **리스크 분산**: 전체 시스템이 아닌 일부 인스턴스에서만 새로운 버전이 실행되므로, 문제가 발생하더라도 영향을 최소화할 수 있습니다.

### 단점

- **복잡성 증가**: 배포 중 두 가지 버전이 동시에 실행되므로, 버전 호환성 문제를 해결해야 할 수 있습니다.
- **자원 소모**: 새로운 버전과 기존 버전의 인스턴스가 동시에 실행되므로, 일시적으로 더 많은 자원이 필요합니다.

## 4. Canary 배포

### 개념

- **Canary 배포**: 전체 사용자 중 일부만 새로운 버전을 사용하도록 배포하는 방법입니다. 문제가 없을 경우, 점차적으로 배포 대상을 확장합니다.
- **방법**:
    1. 새로운 버전을 일부 사용자에게 먼저 배포합니다 (Canary 사용자).
    2. 문제가 없으면, 점진적으로 전체 사용자에게 배포를 확대합니다.

### 장점

- **리스크 최소화**: 전체 사용자에게 배포하기 전에 작은 그룹에서 문제를 확인할 수 있습니다.
- **빠른 피드백**: 새로운 버전에 대한 사용자 피드백을 빠르게 받을 수 있습니다.

### 단점

- **배포 시간 증가**: 전체 사용자에게 배포하기까지 시간이 걸리며, 배포 과정에서 여러 단계가 필요합니다.
- **복잡성 증가**: 사용자를 그룹으로 나누어 배포를 관리해야 하므로, 설정과 관리가 복잡해질 수 있습니다.

## 5. 무중단 배포 적용 예시

### 1. Rolling 배포 예시

- **Kubernetes**: Kubernetes의 Rolling Update 전략을 사용하여, 새로운 버전의 파드를 순차적으로 배포할 수 있습니다.
- **AWS Elastic Beanstalk**: Rolling 배포를 통해 EC2 인스턴스를 점진적으로 교체하면서 새로운 애플리케이션 버전을 배포할 수 있습니다.

### 2. Canary 배포 예시

- **Google Cloud Platform (GCP)**: GCP의 Cloud Run에서는 Canary 배포를 통해 새로운 버전을 소수의 트래픽에 먼저 배포하고, 문제가 없을 경우 전체 트래픽으로 확대할 수 있습니다.
- **AWS CodeDeploy**: AWS CodeDeploy의 Canary 배포 전략을 사용하여, 새로운 버전을 배포하는 동안 일부 인스턴스에서만 새 버전을 실행하고, 문제가 없을 경우 전체 인스턴스로 확대할 수 있습니다.

## 6. 요약

- **무중단 배포**는 시스템의 가용성을 유지하면서 소프트웨어를 업데이트하는 방법입니다.
- **Rolling 배포**는 기존 버전과 새로운 버전을 순차적으로 교체하는 방식으로, 시스템의 중단 없이 배포할 수 있습니다.
- **Canary 배포**는 전체 사용자 중 일부에게 먼저 새로운 버전을 배포하여 문제를 확인한 후, 전체 사용자에게 확대하는 방식으로, 배포 리스크를 최소화할 수 있습니다.